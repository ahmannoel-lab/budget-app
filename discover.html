<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Discover • Budget App</title>
  <style>
    /* Design Tokens */
    :root {
      color-scheme: dark;
      font-family: "SF Pro", "Inter", "Helvetica Neue", Arial, sans-serif;
      background-color: #0C0C0D;
      color: #F2F2F2;

      --bg-primary: #0C0C0D;
      --bg-elevated: #141416;
      --bg-surface: #1B1C1E;
      --glass-tint: rgba(20, 20, 22, 0.55);

      --text-high: #F2F2F2;
      --text-medium: #CFCFD2;
      --text-low: #9A9AA0;

      --accent-warm-gold: #D5B06F;
      --accent-desert-sand: #C7A487;
      --accent-amber: #FFBF66;
      --accent-sage: #A0B5A5;
      --accent-teal: #56B3B4;
      --accent-error: #FF6B6B;
      --accent-success: #4CC38A;

      --border-subtle: rgba(255, 255, 255, 0.06);
      --border-strong: rgba(255, 255, 255, 0.12);

      --shadow-s: 0 2px 8px rgba(0, 0, 0, 0.25);
      --shadow-m: 0 8px 24px rgba(0, 0, 0, 0.35);
      --shadow-l: 0 18px 48px rgba(0, 0, 0, 0.45);

      --radius-lg: 20px;
      --radius-xl: 24px;
      --radius-pill: 999px;

      --focus-ring: 0 0 0 2px rgba(213, 176, 111, 0.75);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: #3D2F28;
      color: #FFFFFF;
      overflow-x: hidden;
    }

    /* Phone Container */
    .discover {
      width: 100%;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      overflow-y: auto;
    }

    /* Background + glass effect */
    .discover::before {
      content: "";
      position: fixed;
      inset: 0;
      background: #3D2F28;
      z-index: 0;
    }

    .discover::after {
      content: "";
      position: fixed;
      inset: 0;
      background: rgba(255, 255, 255, .18);
      backdrop-filter: blur(24px) saturate(1.15);
      -webkit-backdrop-filter: blur(24px) saturate(1.15);
      border: 1px solid rgba(255, 255, 255, .22);
      z-index: 1;
    }

    /* Desktop only - show phone frame */
    @media (min-width: 768px) {
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 32px 0;
      }

      .discover {
        width: 430px;
        min-height: 932px;
        max-height: 932px;
        border-radius: 32px;
        box-shadow: 0 80px 120px rgba(0,0,0,.25);
      }
    }

    /* Header */
    .header {
      position: relative;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: calc(env(safe-area-inset-top, 59px) + 8px) 16px 8px;
      height: 56px;
    }

    .header-icon {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255, 255, 255, 0.7);
      font-size: 18px;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0;
    }

    .header-icon:active {
      opacity: 0.6;
    }

    .header-logo {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      height: 28px;
      cursor: pointer;
    }

    .header-logo img {
      height: 100%;
      width: auto;
      object-fit: contain;
    }

    /* Content Container */
    .content {
      position: relative;
      z-index: 2;
      padding: 0 0 calc(72px + env(safe-area-inset-bottom, 34px)) 0;
    }

    /* Filter Container */
    .filters-and-subcats {
      display: grid;
      grid-template-rows: auto auto;
      row-gap: 10px;
    }

    .tabs-row {
      display: flex;
      justify-content: center;
      margin-bottom: 0 !important;
      padding: 0 16px;
    }

    /* Tabs - matching Overview style */
    .segmented {
      display: flex;
      justify-content: center;
      gap: 32px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: rgba(245, 241, 235, 0.6);
      padding-bottom: 8px;
      border-bottom: 1px solid rgba(245, 241, 235, 0.15);
      background: transparent;
      position: relative;
    }

    .segmented__btn {
      appearance: none;
      padding-bottom: 6px;
      border-bottom: 2px solid transparent;
      background: none;
      border-top: none;
      border-left: none;
      border-right: none;
      font-family: inherit;
      font-size: inherit;
      text-transform: inherit;
      letter-spacing: inherit;
      color: inherit;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .segmented__btn.is-active {
      border-bottom-color: rgba(245, 241, 235, 0.9);
      color: rgba(245, 241, 235, 0.95);
    }

    .segmented__btn:hover {
      color: rgba(245, 241, 235, 0.8);
    }

    .segmented__btn:focus-visible {
      outline: 2px solid #8AB4FF;
      outline-offset: 2px;
    }

    /* Hidden utility */
    .hidden {
      display: none !important;
    }

    /* Subfilter Rail - Centered card with infinite loop */
    .subfilter-rail {
      display: flex;
      gap: 14px;
      padding: 10px clamp(12px, 6vw, 24px) 20px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x mandatory;
      scroll-padding-inline: 50vw;
      scrollbar-width: none;
      margin-top: 0;
      /* Edge fade for depth */
      -webkit-mask-image: linear-gradient(to right,
        transparent 0, black 24px, black calc(100% - 24px), transparent 100%);
      mask-image: linear-gradient(to right,
        transparent 0, black 24px, black calc(100% - 24px), transparent 100%);
    }

    .subfilter-rail::-webkit-scrollbar {
      display: none;
    }

    .subfilter-card {
      position: relative;
      flex: 0 0 auto;
      width: min(78vw, 320px);
      aspect-ratio: 16 / 11;
      border-radius: 18px;
      overflow: hidden;
      scroll-snap-align: center;
      box-shadow: 0 10px 28px rgba(0,0,0,.18);
      cursor: pointer;
      transition: transform .20s ease, box-shadow .20s ease;
      text-decoration: none;
      color: inherit;
    }

    .subfilter-card:active {
      transform: translateY(-2px) scale(.995);
      box-shadow: 0 16px 36px rgba(0,0,0,.26);
    }

    .subfilter-card:focus-visible {
      outline: 2px solid #8AB4FF;
      outline-offset: 3px;
    }

    .subfilter-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      filter: contrast(1.06) saturate(1.05) brightness(0.98);
    }

    /* Vignette */
    .subfilter-card::after {
      content: "";
      position: absolute;
      inset: 0;
      box-shadow: inset 0 0 120px rgba(0,0,0,.22);
      pointer-events: none;
    }

    /* Bottom gradient overlay */
    .subcat-overlay {
      position: absolute;
      inset: 0;
      pointer-events: none;
      background: linear-gradient(to top, rgba(0,0,0,.58) 0%, rgba(0,0,0,0) 62%);
    }

    .subcat-badge {
      position: absolute;
      top: 10px;
      left: 10px;
      height: 26px;
      padding: 0 10px;
      border-radius: 9999px;
      background: rgba(0, 0, 0, .55);
      color: #fff;
      font-weight: 600;
      font-size: 12px;
      line-height: 26px;
      letter-spacing: 0.2px;
      box-shadow: 0 2px 6px rgba(0,0,0,.24);
      z-index: 2;
    }

    .subcat-text {
      position: absolute;
      left: 12px;
      right: 12px;
      bottom: 12px;
      color: #fff;
      z-index: 2;
    }

    .subcat-title {
      font-weight: 800;
      font-size: 17px;
      margin: 0 0 2px;
      letter-spacing: 0.1px;
    }

    .subcat-sub {
      font-weight: 500;
      font-size: 12.5px;
      color: rgba(255,255,255,.86);
      margin: 0;
    }

    .subcat-menu {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 28px;
      height: 28px;
      border-radius: 9999px;
      display: grid;
      place-items: center;
      color: rgba(255,255,255,.92);
      backdrop-filter: blur(8px);
      background: rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.18);
      z-index: 2;
    }

    /* Product Sections */
    .product-section {
      margin-bottom: 24px;
    }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px 12px;
    }

    .section-title {
      font-size: 20px;
      font-weight: 700;
      color: rgba(255, 255, 255, 0.95);
    }

    .see-all {
      font-size: 13px;
      font-weight: 600;
      color: var(--accent-warm-gold);
      text-decoration: none;
      cursor: pointer;
    }

    .see-all:hover {
      text-decoration: underline;
    }

    /* Product Rail - Center-snap with neighbor peek */
    .product-rail {
      display: flex;
      gap: 12px;
      padding-inline: 16px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x mandatory;
      scroll-padding-inline: 50vw;
      scrollbar-width: none;
      /* Edge fade for depth */
      -webkit-mask-image: linear-gradient(to right,
        transparent 0, black 20px, black calc(100% - 20px), transparent 100%);
      mask-image: linear-gradient(to right,
        transparent 0, black 20px, black calc(100% - 20px), transparent 100%);
    }

    .product-rail::-webkit-scrollbar {
      display: none;
    }

    .product-card {
      position: relative;
      flex: 0 0 auto;
      width: 160px;
      height: 170px;
      border-radius: 16px;
      overflow: hidden;
      scroll-snap-align: center;
      box-shadow: 0 10px 28px rgba(0,0,0,.18);
      cursor: pointer;
      transition: transform .20s ease, box-shadow .20s ease, filter .20s ease;
    }

    .product-card:active {
      transform: translateY(-2px) scale(.995);
      box-shadow: 0 16px 36px rgba(0,0,0,.26);
    }

    .product-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      filter: contrast(1.06) saturate(1.05) brightness(0.98);
    }

    /* Soft vignette */
    .product-card::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      box-shadow: inset 0 0 120px rgba(0,0,0,.22);
    }

    /* Bottom gradient overlay */
    .overlay-gradient {
      position: absolute;
      inset: 0;
      pointer-events: none;
      background: linear-gradient(to top, rgba(0,0,0,.58) 0%, rgba(0,0,0,0) 62%);
    }

    .product-info {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 10px;
      z-index: 2;
    }

    .product-title {
      font-size: 14px;
      font-weight: 600;
      color: #FFFFFF;
      margin-bottom: 2px;
      text-shadow: 0 1px 4px rgba(0, 0, 0, 0.6);
    }

    .product-price {
      font-size: 12px;
      font-weight: 500;
      color: rgba(255, 255, 255, 0.9);
      text-shadow: 0 1px 4px rgba(0, 0, 0, 0.6);
    }

    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      padding-bottom: env(safe-area-inset-bottom, 12px);
    }

    .bottom-bar {
      width: 180px;
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.5);
      display: flex;
      justify-content: space-between;
      align-items: center;
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
      backdrop-filter: saturate(1.35) blur(20px);
      position: relative;
    }

    .bottom-bar::before {
      content: "";
      position: absolute;
      left: -24px; right: -24px; bottom: -16px; top: -12px;
      border-radius: 999px;
      background: radial-gradient(80% 120% at 50% 60%, rgba(213,176,111,0.18), rgba(0,0,0,0));
      filter: blur(8px);
      z-index: -1;
      pointer-events: none;
    }

    .bottom-item {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 52px;
      height: 36px;
      border-radius: 18px;
      background: transparent;
      color: rgba(245, 241, 235, 0.6);
      font-size: 16px;
      border: none;
      cursor: pointer;
      text-decoration: none;
      transition: background 0.2s ease, color 0.2s ease;
    }

    .bottom-item.active {
      background: linear-gradient(135deg, var(--accent-warm-gold), var(--accent-desert-sand));
      color: #3D2F28;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    .bottom-item:focus-visible {
      outline: none;
      box-shadow: var(--focus-ring);
    }

    .home-indicator {
      width: 134px;
      height: 5px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.2);
      box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
  <div class="discover">
    <!-- Header -->
    <header class="header">
      <button class="header-icon" aria-label="Search">🔍</button>
      <a href="prototype.html" class="header-logo">
        <img src="SampleLogo.png" alt="Budget App Logo">
      </a>
      <button class="header-icon" aria-label="Settings">🔒</button>
    </header>

    <!-- Content -->
    <div class="content">
      <!-- Filter Tabs -->
      <div class="filters-and-subcats">
        <div class="tabs-row">
          <div class="segmented" role="tablist" aria-label="Discovery filters">
            <button class="segmented__btn is-active" role="tab" aria-selected="true" data-tab="for-you">For You</button>
            <button class="segmented__btn" role="tab" aria-selected="false" data-tab="categories">Categories</button>
          </div>
        </div>

        <!-- Subfilter Rail -->
        <div class="subfilter-rail" id="subcats-rail">
        <!-- Core -->
        <a href="#" class="subfilter-card" data-id="core" aria-label="Core subcategory">
          <img src="https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?q=80&w=1000" alt="">
          <div class="subcat-overlay"></div>
          <div class="subcat-badge">Under $50</div>
          <div class="subcat-text">
            <div class="subcat-title">Core</div>
            <div class="subcat-sub">Everyday picks that fit easily into your rhythm.</div>
          </div>
          <div class="subcat-menu">⋯</div>
        </a>

        <!-- Weekender -->
        <a href="#" class="subfilter-card" data-id="weekender" aria-label="Weekender subcategory">
          <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=1000" alt="">
          <div class="subcat-overlay"></div>
          <div class="subcat-badge">Under $150</div>
          <div class="subcat-text">
            <div class="subcat-title">Weekender</div>
            <div class="subcat-sub">Small splurges and plans made for your free time.</div>
          </div>
          <div class="subcat-menu">⋯</div>
        </a>

        <!-- Premium -->
        <a href="#" class="subfilter-card" data-id="premium" aria-label="Premium subcategory">
          <img src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=1000" alt="">
          <div class="subcat-overlay"></div>
          <div class="subcat-badge">$150+</div>
          <div class="subcat-text">
            <div class="subcat-title">Premium</div>
            <div class="subcat-sub">Elevated moments worth planning for.</div>
          </div>
          <div class="subcat-menu">⋯</div>
        </a>

        <!-- Next -->
        <a href="#" class="subfilter-card" data-id="next" aria-label="Next subcategory">
          <img src="https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=1000" alt="">
          <div class="subcat-overlay"></div>
          <div class="subcat-text">
            <div class="subcat-title">Next</div>
            <div class="subcat-sub">Aspirational goals—slightly above your usual range.</div>
          </div>
          <div class="subcat-menu">⋯</div>
        </a>

        <!-- Safe -->
        <a href="#" class="subfilter-card" data-id="safe" aria-label="Safe subcategory">
          <img src="https://images.unsplash.com/photo-1490349368154-73de9c9bc37c?q=80&w=1000" alt="">
          <div class="subcat-overlay"></div>
          <div class="subcat-text">
            <div class="subcat-title">Safe</div>
            <div class="subcat-sub">Comfortable options that align with your budget.</div>
          </div>
          <div class="subcat-menu">⋯</div>
        </a>
        </div>
      </div>

      <!-- Content Panes -->
      <div data-pane="for-you" class="hidden">
        <!-- For You personalized feed would go here -->
        <p style="text-align:center; padding:40px 16px; color:rgba(255,255,255,0.6);">For You feed coming soon...</p>
      </div>

      <div data-pane="categories">
      <!-- Core Products -->
      <section class="product-section">
        <div class="section-header">
          <h2 class="section-title">Core</h2>
          <a href="feed.html?subfilter=core" class="see-all">See all</a>
        </div>
        <div class="product-rail">
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Headphones</div>
              <div class="product-price">$29</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Watch</div>
              <div class="product-price">$45</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Sneakers</div>
              <div class="product-price">$39</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1606760227091-3dd870d97f1d?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Water Bottle</div>
              <div class="product-price">$22</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1585386959984-a4155224a1ad?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Notebook</div>
              <div class="product-price">$18</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Weekender Products -->
      <section class="product-section">
        <div class="section-header">
          <h2 class="section-title">Weekender</h2>
          <a href="feed.html?subfilter=weekender" class="see-all">See all</a>
        </div>
        <div class="product-rail">
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Backpack</div>
              <div class="product-price">$89</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Camping Gear</div>
              <div class="product-price">$135</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1572635196237-14b3f281503f?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Sunglasses</div>
              <div class="product-price">$95</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1517487881594-2787fef5ebf7?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Coffee Mug</div>
              <div class="product-price">$32</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Travel Kit</div>
              <div class="product-price">$78</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Premium Products -->
      <section class="product-section">
        <div class="section-header">
          <h2 class="section-title">Premium</h2>
          <a href="feed.html?subfilter=premium" class="see-all">See all</a>
        </div>
        <div class="product-rail">
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1590874103328-eac38a683ce7?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Leather Bag</div>
              <div class="product-price">$280</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1591047139829-d91aecb6caea?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Jacket</div>
              <div class="product-price">$350</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1614252235316-8c857d38b5f4?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Dress Shoes</div>
              <div class="product-price">$220</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1523170335258-f5ed11844a49?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Designer Watch</div>
              <div class="product-price">$450</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1583394293214-28ded15ee548?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Marble Vase</div>
              <div class="product-price">$185</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Next Products -->
      <section class="product-section">
        <div class="section-header">
          <h2 class="section-title">Next</h2>
          <a href="feed.html?subfilter=next" class="see-all">See all</a>
        </div>
        <div class="product-rail">
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1589492477829-5e65395b66cc?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Smart Speaker</div>
              <div class="product-price">$199</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1593642532400-2682810df593?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Laptop</div>
              <div class="product-price">$899</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1511385348-e79d3fbc1eff?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">VR Headset</div>
              <div class="product-price">$499</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Smart Home Hub</div>
              <div class="product-price">$329</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1550009158-9ebf69173e03?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Drone</div>
              <div class="product-price">$750</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Safe Products -->
      <section class="product-section">
        <div class="section-header">
          <h2 class="section-title">Safe</h2>
          <a href="feed.html?subfilter=safe" class="see-all">See all</a>
        </div>
        <div class="product-rail">
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1556228578-0d85b1a4d571?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Cozy Sweater</div>
              <div class="product-price">$65</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1618354691373-d851c5c3a990?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Classic Tee</div>
              <div class="product-price">$25</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1543163521-1bf539c55dd2?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Casual Shoes</div>
              <div class="product-price">$75</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1491637639811-60e2756cc1c7?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Everyday Bag</div>
              <div class="product-price">$55</div>
            </div>
          </div>
          <div class="product-card">
            <img src="https://images.unsplash.com/photo-1512820790803-83ca734da794?q=80&w=600" alt="Product">
            <div class="product-info">
              <div class="product-title">Reading Book</div>
              <div class="product-price">$18</div>
            </div>
          </div>
        </div>
      </section>
      </div>
    </div>

    <!-- Bottom Navigation -->
    <footer class="bottom-nav" aria-label="Bottom navigation">
      <nav class="bottom-bar" aria-label="Secondary navigation">
        <a class="bottom-item" href="prototype.html" aria-label="Overview">★</a>
        <a class="bottom-item active" href="discover.html" aria-label="Discover">✈</a>
      </nav>
      <div class="home-indicator" aria-hidden="true"></div>
    </footer>
  </div>

  <script>
    // Segmented control interaction
    const seg = document.querySelector('.segmented');
    if (seg) {
      seg.addEventListener('click', (e) => {
        const btn = e.target.closest('.segmented__btn');
        if (!btn) return;
        const tab = btn.dataset.tab; // "for-you" | "categories"

        // Update active state
        seg.querySelectorAll('.segmented__btn').forEach(b => {
          const on = b === btn;
          b.classList.toggle('is-active', on);
          b.setAttribute('aria-selected', String(on));
        });

        // Toggle content panes
        document.querySelector('[data-pane="for-you"]')?.classList.toggle('hidden', tab !== 'for-you');
        document.querySelector('[data-pane="categories"]')?.classList.toggle('hidden', tab !== 'categories');
      });
    }

    // Add overlay gradients to all product cards
    document.querySelectorAll('.product-card').forEach(card => {
      if (!card.querySelector('.overlay-gradient')) {
        const overlay = document.createElement('div');
        overlay.className = 'overlay-gradient';
        card.insertBefore(overlay, card.firstChild.nextSibling);
      }
    });

    // Infinite loop helper function
    function makeLoopingCenteredRail(rail, clones = 2) {
      const kids = Array.from(rail.children);
      if (!kids.length) return;

      // Clone first/last
      const head = kids.slice(0, clones).map(n => n.cloneNode(true));
      const tail = kids.slice(-clones).map(n => n.cloneNode(true));
      tail.forEach(n => rail.insertBefore(n, rail.firstChild));
      head.forEach(n => rail.appendChild(n));

      // Center helper
      const center = (el, behavior = 'instant') => {
        const left = el.offsetLeft - (rail.clientWidth / 2 - el.clientWidth / 2);
        rail.scrollTo({ left, behavior });
      };

      // Initial: center first REAL card
      requestAnimationFrame(() => center(rail.children[clones], 'instant'));

      // Normalize when user reaches clone zones
      rail.addEventListener('scrollend', () => {
        const items = Array.from(rail.children);
        const total = items.length;
        const realCount = total - clones * 2;

        // find item nearest center
        const mid = rail.getBoundingClientRect().left + rail.clientWidth / 2;
        let idx = 0, best = Infinity;
        items.forEach((el, i) => {
          const c = el.getBoundingClientRect().left + el.clientWidth / 2;
          const d = Math.abs(c - mid);
          if (d < best) {
            best = d;
            idx = i;
          }
        });

        if (idx <= clones - 1) center(items[idx + realCount], 'instant');
        else if (idx >= total - clones) center(items[idx - realCount], 'instant');
      });
    }

    // Apply infinite loop to subcategory rail
    const subcatsRail = document.getElementById('subcats-rail');
    if (subcatsRail) {
      makeLoopingCenteredRail(subcatsRail, 2);

      // Handle subfilter card clicks
      subcatsRail.querySelectorAll('.subfilter-card').forEach(card => {
        card.addEventListener('click', function(e) {
          e.preventDefault();
          const id = this.dataset.id;
          console.log('Clicked subcategory:', id);
        });
      });
    }

    // Apply infinite loop to all product rails
    document.querySelectorAll('.product-rail').forEach(rail => {
      makeLoopingCenteredRail(rail, 2);
    });
  </script>
</body>
</html>
